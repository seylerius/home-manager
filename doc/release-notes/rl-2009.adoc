[[sec-release-20.09]]
== Release 20.09 (unreleased)

This is the current unstable branch and the information in this
section is therefore not final.

[[sec-release-20.09-highlights]]
=== Highlights
:sd-switch-url: https://gitlab.com/rycee/sd-switch

This release has the following notable changes:

* The systemd activation is now handled by {sd-switch-url}[sd-switch], a program that stops, starts, reloads, etc. systemd units as necessary to match the new Home Manager configuration.
+
--
Since sd-switch is relatively lightweight it is always used and the options

- `systemd.user.startServices` and
- `systemd.user.servicesStartTimeoutMs`

are no longer used and can be removed from your configuration.
--

[[sec-release-20.09-state-version-changes]]
=== State Version Changes

The state version in this release includes the changes below. These
changes are only active if the `home.stateVersion` option is set to
"20.09" or later.

* The options <<opt-home.homeDirectory>> and <<opt-home.username>> no
longer have default values and must therefore be provided in your
configuration. Previously their values would default to the content of
the environment variables `HOME` and `USER`, respectively.
+
--
Further, the options <<opt-xdg.cacheHome>>, <<opt-xdg.configHome>>,
and <<opt-xdg.dataHome>> will no longer be affected by the
`XDG_CACHE_HOME`, `XDG_CONFIG_HOME`, and `XDG_DATA_HOME` environment
variables. They now unconditionally default to

- `"${config.home.homeDirectory}/.cache"`,
- `"${config.home.homeDirectory}/.config"`, and
- `"${config.home.homeDirectory}/.local/share"`.

If you choose to switch to state version 20.09 then you must set these
options if you use non-default XDG base directory paths.

The initial configuration generated by

[source,console]
$ nix-shell '<home-manager>' -A install

will automatically include these options, when necessary.
--
